# README.md

# Emoseum

κ°μ • μΌκΈ° κΈ°λ° μ΄λ―Έμ§€ μƒμ„± λ° μκΈ° μ „μ‹ μ‹μ¤ν…μ„ ν™μ©ν• ACT κΈ°λ° λ””μ§€ν„Έ μΉλ£μ 

## π“– ν”„λ΅μ νΈ μ†κ°

Emoseumμ€ ACT(Acceptance and Commitment Therapy) μ΄λ΅ μ— κΈ°λ°ν• λ””μ§€ν„Έ μΉλ£ μ‹μ¤ν…μ΄λ‹¤. μ‚¬μ©μκ°€ μ‘μ„±ν• κ°μ • μΌκΈ°λ¥Ό GPTμ™€ Stable Diffusionμ„ ν†µν•΄ κ°μΈν™”λ μ΄λ―Έμ§€λ΅ μ‹κ°ν™”ν•μ—¬, κ°μ • μμ©κ³Ό μ‹¬λ¦¬μ  μ μ—°μ„±μ„ μ¦μ§„μ‹ν‚¤λ” νμ‹ μ μΈ μΉλ£μ  κ²½ν—μ„ μ κ³µν•λ‹¤.

λ³Έ μ‹μ¤ν…μ€ 4λ‹¨κ³„ ACT μΉλ£ μ—¬μ •(The Moment β†’ Reflection β†’ Defusion β†’ Closure)μ„ ν†µν•΄ μ‚¬μ©μκ°€ μμ‹ μ κ°μ •μ„ μ•μ „ν•κ² νƒμƒ‰ν•κ³  μμ©ν•  μ μλ„λ΅ λ„μ°λ©°, κ¶κ·Ήμ μΌλ΅ ν¬λ§μ„ μ°Ύμ•„κ°€λ” κ³Όμ •μ„ μ§€μ›ν•λ‹¤.

## π“… κ°λ° κΈ°κ°„

**2024λ…„ 6μ›” 29μΌ ~ 8μ›” 14μΌ** (μ•½ 7μ£Ό)

## π‘¥ κ°λ°μ μ†κ°

### ν€ κµ¬μ„± λ° μ—­ν•  λ¶„λ‹΄

| μ—­ν•            | κ°λ°μ | GitHub                                       | λ‹΄λ‹Ή μ—…λ¬΄                                                                                                                                      |
| -------------- | ------ | -------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| **AI κ°λ°**    | λ°•μ©μ„± | [@reo91004](https://github.com/reo91004)     | β€Ά GPT ν”„λ΅¬ν”„νΈ μ—”μ§€λ‹μ–΄λ§ (μ΄λ―Έμ§€ μƒμ„±, λ„μ¨νΈ)<br>β€Ά Stable Diffusion μ΄λ―Έμ§€ μƒμ„±<br>β€Ά GoEmotions VAD κ°μ • λ¶„μ„<br>β€Ά LoRA/DRaFT+ κ°μΈν™” μ‹μ¤ν… |
| **AI κ°λ°**    | μ†΅μΈκ· | [@enqueue01](https://github.com/enqueue01)   | β€Ά GPT ν”„λ΅¬ν”„νΈ μ—”μ§€λ‹μ–΄λ§ (μ΄λ―Έμ§€ μƒμ„±, λ„μ¨νΈ)<br>β€Ά μ•μ „μ„± κ²€μ¦ μ‹μ¤ν…<br>β€Ά GPT API μ„λΉ„μ¤<br>β€Ά λΉ„μ© μ¶”μ  λ° λ¨λ‹ν„°λ§                         |
| **λ°±μ—”λ“**     | μ΄μ„ μ§„ | [@Seonjin-13](https://github.com/Seonjin-13) | β€Ά FastAPI μ„λ²„ κµ¬μ¶•<br>β€Ά MongoDB λ°μ΄ν„°λ² μ΄μ¤ μ„¤κ³„<br>β€Ά μ‚¬μ©μ κ΄€λ¦¬ μ‹μ¤ν…<br>β€Ά Unity μ—°λ™ API                                                 |
| **Unity κ°λ°** | μ¶”μ„±μ¬ | [@qOLOp](https://github.com/qOLOp)           | β€Ά λ¨λ°”μΌ κ²μ„ UI/UX<br>β€Ά λ―Έμ κ΄€ μΈν„°νμ΄μ¤<br>β€Ά ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ ν†µμ‹ <br>β€Ά κ²μ„ν™” μ”μ† κµ¬ν„                                                     |

## π’» κ°λ° ν™κ²½

### μ‹μ¤ν… μ”κµ¬μ‚¬ν•­

- **OS**: Windows 10/11, macOS 10.15+, Ubuntu 18.04+
- **Python**: 3.8 μ΄μƒ
- **GPU**: CUDA 11.8+ μ§€μ› GPU (κ¶μ¥) λλ” Google Colab
- **λ©”λ¨λ¦¬**: μµμ† 8GB RAM
- **Unity**: 2022.3 LTS

### μ„¤μΉ λ° μ‹¤ν–‰

#### 1. κΈ°λ³Έ μ„λ²„ μ„¤μ •

```bash
# μ €μ¥μ† ν΄λ΅ 
git clone https://github.com/Emoseum/emoseum-AI.git
cd emoseum-AI

# κ°€μƒν™κ²½ μƒμ„± λ° ν™μ„±ν™”
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# μμ΅΄μ„± μ„¤μΉ
pip install -r requirements.txt

# ν™κ²½ λ³€μ μ„¤μ •
cp .env.example .env
# .env νμΌμ—μ„ ν•„μ”ν• API ν‚¤ μ„¤μ •:
# - OPENAI_API_KEY
# - MONGODB_URI
# - SUPABASE_URL
# - SUPABASE_KEY
```

#### 2. Google Colab GPU μ„λ²„ μ‹¤ν–‰ (κ¶μ¥)

Google Colabμ—μ„ `tests/colab_server.ipynb`λ¥Ό μ‹¤ν–‰ν•μ—¬ GoEmotionsμ™€ Stable Diffusion μ„λ²„λ¥Ό κµ¬λ™:

1. [Google Colab](https://colab.research.google.com)μ—μ„ `tests/colab_server.ipynb` μ—΄κΈ°
2. ngrok μΈμ¦ ν† ν° μ„¤μ •
3. λ¨λ“  μ…€ μ‹¤ν–‰
4. μƒμ„±λ Public URLμ„ `config/settings.yaml`μ— μ„¤μ •

#### 3. μ‹μ¤ν… μ‹¤ν–‰

```bash
# CLI λ¨λ“ μ‹¤ν–‰
python main.py

# FastAPI μ„λ²„ μ‹¤ν–‰ (Unity ν΄λΌμ΄μ–ΈνΈμ©)
python run_api.py

# λλ” uvicornμΌλ΅ μ§μ ‘ μ‹¤ν–‰
uvicorn api.main:app --reload --host 0.0.0.0 --port 8000
```

## π›  κΈ°μ  μ¤νƒ

### AI/ML

- **OpenAI GPT-4o-mini**: ν”„λ΅¬ν”„νΈ μƒμ„± λ° λ„μ¨νΈ λ©”μ‹μ§€
- **Stable Diffusion 1.5**: κ°μ • κΈ°λ° μ΄λ―Έμ§€ μƒμ„±
- **GoEmotions (DistilBERT)**: 28κ°€μ§€ κ°μ • λ¶„λ¥ λ° VAD λ§¤ν•‘
- **PyTorch**: λ”¥λ¬λ‹ ν”„λ μ„μ›ν¬
- **Transformers**: μμ—°μ–΄ μ²λ¦¬
- **LoRA & DRaFT+**: κ³ κΈ‰ κ°μΈν™” λ¨λΈ ν•™μµ

### λ°±μ—”λ“

- **FastAPI**: λΉ„λ™κΈ° μ›Ή ν”„λ μ„μ›ν¬
- **MongoDB**: μ‚¬μ©μ λ°μ΄ν„° λ° κ°μ • μ—¬μ • μ €μ¥
- **SQLite**: λ΅μ»¬ λΉ„μ© μ¶”μ  λ° μ„¤μ • κ΄€λ¦¬
- **Uvicorn**: ASGI μ„λ²„
- **Pydantic**: λ°μ΄ν„° κ²€μ¦

### μΈν”„λΌ

- **Google Colab**: GPU κΈ°λ° AI λ¨λΈ μ„λΉ™
- **Supabase**: μ΄λ―Έμ§€ μ €μ¥ λ° κ΄€λ¦¬
- **ngrok**: Colab μ„λ²„ ν„°λ„λ§
- **Docker**: μ»¨ν…μ΄λ„ν™” μ§€μ›

### ν”„λ΅ νΈμ—”λ“

- **Unity 2022.3 LTS**: λ¨λ°”μΌ κ²μ„ μ—”μ§„
- **C#**: Unity μ¤ν¬λ¦½ν…

## β¨ μ£Όμ” κΈ°λ¥

### π­ ACT κΈ°λ° 4λ‹¨κ³„ μΉλ£ μ—¬μ •

#### 1. The Moment - κ°μ • μΈμ‹

- μμ λ΅μ΄ κ°μ • μΌκΈ° μ‘μ„±
- GoEmotions κΈ°λ° 28κ°€μ§€ κ°μ • μ‹¤μ‹κ°„ λ¶„λ¥
- VAD(Valence-Arousal-Dominance) μ°¨μ›μ  κ°μ • λ¶„μ„
- λ™μ  μ„κ³„κ°’ κΈ°λ° μλ―Έμλ” κ°μ • μ¶”μ¶

#### 2. Reflection - κ°μ • μ‹κ°ν™”

- GPT κΈ°λ° κ°μΈν™” ν”„λ΅¬ν”„νΈ μƒμ„±
- Stable Diffusionμ„ ν†µν• κ°μ • μ΄λ―Έμ§€ μƒμ„±
- λ€μ² μ¤νƒ€μΌλ³„ λ§μ¶¤ν• μ‹κ°μ  ν‘ν„
- 1:1 λΉ„μ¨ μµμ ν™” (λ¨λ°”μΌ κ°¤λ¬λ¦¬μ©)

#### 3. Defusion - μΈμ§€μ  νƒμµν•©

- λ°©λ…λ΅ μ‘μ„±μ„ ν†µν• κ°μ • κ±°λ¦¬λ‘κΈ°
- μ‘ν’ μ λ©κ³Ό νƒκ·Έλ¥Ό ν†µν• κ°μ • μ¬κµ¬μ„±
- λ¶€μ •μ  μ‚¬κ³  ν¨ν„΄ μ™„ν™”
- κ°μ • κ°κ΄€ν™” μ΄‰μ§„

#### 4. Closure - ν¬λ§ λ°κ²¬

- GPT κΈ°λ° κ°μΈν™” λ„μ¨νΈ λ©”μ‹μ§€
- μΉλ£μ  ν†µμ°°κ³Ό κ²©λ ¤ μ κ³µ
- λ―Έλ μ§€ν–¥μ  μ‹κ° ν•μ„±
- κΈμ •μ  μ¬κµ¬μ„± μ§€μ›

### π§  GoEmotions VAD κ°μ • λ¶„μ„ μ‹μ¤ν…

#### 28κ°€μ§€ κ°μ • λ¶„λ¥

- **κΈμ • κ°μ •(12κ°)**: admiration, amusement, approval, caring, excitement, gratitude, joy, love, optimism, pride, relief
- **λ¶€μ • κ°μ •(11κ°)**: anger, annoyance, disappointment, disapproval, disgust, embarrassment, fear, grief, nervousness, remorse, sadness
- **λ¨νΈν• κ°μ •(5κ°)**: confusion, curiosity, desire, realization, surprise
- **μ¤‘λ¦½(1κ°)**: neutral

#### VAD μ°¨μ› λ§¤ν•‘

- **Valence(μΎ-λ¶μΎ)**: κ°μ •μ κΈμ •/λ¶€μ • μ •λ„ (0.1~0.9)
- **Arousal(κ°μ„±)**: κ°μ •μ ν™μ„±ν™” μμ¤€ (0.25~0.85)
- **Dominance(ν†µμ κ°)**: κ°μ •μ— λ€ν• ν†µμ  μμ¤€ (0.2~0.8)

#### λ™μ  κ°μ • λ¶„μ„

```python
# μ μ‘μ  μ„κ³„κ°’ κ³„μ‚°
adaptive_threshold = max(0.1, min(0.4, mean_score * 0.6))

# κ°μ • κ°•λ„ κ³„μ‚° (arousal + score κ²°ν•©)
intensity = ["low", "medium", "high"]

# κ°€μ¤‘μΉ κΈ°λ° VAD ν†µν•©
weighted_vad = Ξ£(emotion_vad * βscore) / Ξ£(βscore)
```

### π― 3λ‹¨κ³„ κ°μΈν™” μ‹μ¤ν…

#### Level 1: κΈ°λ³Έ ν”„λ΅νμΌλ§

- **μ‹¬λ¦¬κ²€μ‚¬ ν†µν•©**:
  - PHQ-9: μ°μΈμ¦ μ„ λ³„
  - CES-D: μ°μΈ μ¦μƒ ν‰κ°€
  - MEAQ: κ²½ν— νν”Ό μΈ΅μ •
  - CISS: λ€μ² μ¤νƒ€μΌ λ¶„μ„
- **λ€μ² μ¤νƒ€μΌ λ¶„λ¥**:
  - νν”Όν•: λ¶€λ“λ¬μ΄ μ€μ μ  ν‘ν„
  - μ§λ©΄ν•: μ§μ ‘μ μ΄κ³  μ§„μ†”ν• ν‘ν„
  - κ· ν•ν•: μ μ‘μ  νΌν•© μ ‘κ·Ό
- **μ‹κ°μ  μ„ νΈλ„**:
  - ν™”ν’: realistic, anime, abstract, impressionist
  - μƒ‰κ°: warm, cool, vibrant, muted
  - λ³µμ΅λ„: simple, moderate, complex

#### Level 2: GPT κΈ°λ° μ‹¤μ‹κ°„ ν•™μµ

- λ°©λ…λ΅ λ°μ‘ λ°μ΄ν„° μμ§‘ λ° λ¶„μ„
- λ©”μ‹μ§€ μ°Έμ—¬λ„ μΈ΅μ • (μ½κΈ° μ‹κ°„, μ¬λ°©λ¬Έμ¨)
- κ°μ • λ³€ν™” ν¨ν„΄ μ¶”μ 
- μ‹¤μ‹κ°„ ν”„λ΅¬ν”„νΈ μ΅°μ •

#### Level 3: κ³ κΈ‰ AI κ°μΈν™”

- **LoRA ν›λ ¨** (50κ° μ΄μƒ κΈμ • λ°μ‘):
  - μ‚¬μ©μλ³„ μ΄λ―Έμ§€ μ¤νƒ€μΌ ν•™μµ
  - κ°μΈν™”λ μ‹κ°μ  ν‘ν„ μƒμ„±
- **DRaFT+ κ°•ν™”ν•™μµ** (30κ° μ΄μƒ μ™„μ„± μ—¬μ •):
  - λ„μ¨νΈ λ©”μ‹μ§€ μµμ ν™”
  - μΉλ£μ  ν¨κ³Ό κ·Ήλ€ν™”

### π› λ””μ§€ν„Έ λ―Έμ κ΄€

- κ°μΈ κ°μ • μ—¬μ • μ•„μΉ΄μ΄λΈ
- μ‹κ°„μ κ°μ • λ³€ν™” μ‹κ°ν™”
- μ‘ν’λ³„ μƒμ„Έ μ •λ³΄ (μΌκΈ°, κ°μ •, λ°©λ…λ΅, λ„μ¨νΈ)
- κ³Όκ±° μ‘ν’ μ¬κ°μƒ λ° μ¬ν•΄μ„
- κ°μ • ν¨ν„΄ λ¶„μ„ λ€μ‹λ³΄λ“

### π›΅ μ•μ „μ„± μ‹μ¤ν…

- **λ‹¤μΈµ μ•μ „ ν•„ν„°λ§**:
  - μν•΄/μμ‚΄ κ΄€λ ¨ ν‚¤μ›λ“ κ°μ§€
  - ν­λ ¥μ  μ½ν…μΈ  μ°¨λ‹¨
  - μΉλ£μ  λ¶€μ μ  μ‘λ‹µ ν•„ν„°λ§
- **μ„κΈ° λ€μ‘ μ‹μ¤ν…**:
  - κ³ μ„ν— μƒν™© μλ™ κ°μ§€
  - μ „λ¬Έκ°€ μƒλ‹΄ μ¦‰μ‹ κ¶μ 
  - μ‘κΈ‰ μ—°λ½μ² μ κ³µ
- **YAML κΈ°λ° κ·μΉ™ κ΄€λ¦¬** (`config/safety_rules.yaml`)

## π— ν”„λ΅μ νΈ μ•„ν‚¤ν…μ²

### μ‹μ¤ν… κµ¬μ΅°

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚   Unity Client  β”‚    β”‚  FastAPI Server β”‚    β”‚  AI/ML Engine   β”‚    β”‚   Colab GPU     β”‚
β”‚                 β”‚    β”‚                 β”‚    β”‚                 β”‚    β”‚                 β”‚
β”‚ β€Ά Game UI       β”‚β—„β”€β”€β–Ίβ”‚ β€Ά RESTful API   β”‚β—„β”€β”€β–Ίβ”‚ β€Ά GPT Service   β”‚β—„β”€β”€β–Ίβ”‚ β€Ά GoEmotions    β”‚
β”‚ β€Ά Gallery View  β”‚    β”‚ β€Ά User Manager  β”‚    β”‚ β€Ά Emotion Analyzerβ”‚   β”‚ β€Ά Stable Diff   β”‚
β”‚ β€Ά Mobile UX     β”‚    β”‚ β€Ά Data Storage  β”‚    β”‚ β€Ά Personalizationβ”‚   β”‚ β€Ά VAD Mapping   β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### λ¨λ“ κµ¬μ΅°

```
emoseum-AI/
β”β”€β”€ api/
β”‚   β””β”€β”€ main.py                    # FastAPI μ„λ²„ μ—”νΈλ¦¬ν¬μΈνΈ
β”β”€β”€ src/
β”‚   β”β”€β”€ core/
β”‚   β”‚   β””β”€β”€ act_therapy_system.py  # ACT μΉλ£ μ‹μ¤ν… ν†µν•© μ½”μ–΄
β”‚   β”β”€β”€ managers/
β”‚   β”‚   β”β”€β”€ user_manager.py        # μ‚¬μ©μ ν”„λ΅ν•„ λ° μ‹¬λ¦¬κ²€μ‚¬
β”‚   β”‚   β”β”€β”€ gallery_manager.py     # κ°μ • μ—¬μ • λ°μ΄ν„° κ΄€λ¦¬
β”‚   β”‚   β””β”€β”€ personalization_manager.py # 3λ‹¨κ³„ κ°μΈν™” μ—”μ§„
β”‚   β”β”€β”€ services/
β”‚   β”‚   β”β”€β”€ gpt_service.py         # OpenAI GPT API ν†µν•©
β”‚   β”‚   β”β”€β”€ emotion_analyzer.py    # GoEmotions VAD λ¶„μ„
β”‚   β”‚   β””β”€β”€ image_generator.py     # Stable Diffusion μ„λΉ„μ¤
β”‚   β”β”€β”€ therapy/
β”‚   β”‚   β”β”€β”€ prompt_architect.py    # λ€μ² μ¤νƒ€μΌλ³„ ν”„λ΅¬ν”„νΈ
β”‚   β”‚   β””β”€β”€ docent_message.py      # μΉλ£μ  λ„μ¨νΈ λ©”μ‹μ§€
β”‚   β”β”€β”€ training/
β”‚   β”‚   β”β”€β”€ lora_trainer.py        # LoRA κ°μΈν™” ν›λ ¨
β”‚   β”‚   β””β”€β”€ draft_trainer.py       # DRaFT+ κ°•ν™”ν•™μµ
β”‚   β””β”€β”€ utils/
β”‚       β”β”€β”€ safety_validator.py    # μ•μ „μ„± κ²€μ¦ μ‹μ¤ν…
β”‚       β””β”€β”€ cost_tracker.py        # API λΉ„μ© λ¨λ‹ν„°λ§
β”β”€β”€ config/
β”‚   β”β”€β”€ settings.yaml              # μ‹μ¤ν… μ„¤μ •
β”‚   β”β”€β”€ gpt_prompts.yaml          # GPT ν”„λ΅¬ν”„νΈ ν…ν”λ¦Ώ
β”‚   β””β”€β”€ safety_rules.yaml        # μ•μ „ κ·μΉ™ μ •μ
β”β”€β”€ tests/
β”‚   β”β”€β”€ colab_server.ipynb       # Google Colab GPU μ„λ²„
β”‚   β””β”€β”€ test.py                  # ν†µν•© ν…μ¤νΈ
β””β”€β”€ main.py                       # CLI μΈν„°νμ΄μ¤
```

### λ°μ΄ν„° νλ¦„

```
κ°μ • μΌκΈ° μ…λ ¥
    β†“
GoEmotions 28κ°€μ§€ κ°μ • λ¶„λ¥
    β†“
VAD μ°¨μ› λ§¤ν•‘ λ° κ°•λ„ κ³„μ‚°
    β†“
λ€μ² μ¤νƒ€μΌλ³„ ν”„λ΅¬ν”„νΈ μƒμ„± (GPT)
    β†“
κ°μΈν™” μ΄λ―Έμ§€ μƒμ„± (Stable Diffusion)
    β†“
λ°©λ…λ΅ μ‘μ„± (Defusion)
    β†“
λ„μ¨νΈ λ©”μ‹μ§€ μƒμ„± (GPT)
    β†“
κ°μΈν™” λ°μ΄ν„° ν•™μµ λ° μ—…λ°μ΄νΈ
```

### λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§

#### MongoDB Collections

- **users**: μ‚¬μ©μ κΈ°λ³Έ μ •λ³΄ λ° μ‹¬λ¦¬κ²€μ‚¬ κ²°κ³Ό
  - user_id, username, psychometric_results, coping_style, visual_preferences
- **gallery_items**: κ°μ • μ—¬μ • μ „μ²΄ λ°μ΄ν„°
  - item_id, user_id, diary_text, emotions, vad_scores, image_url, guest_book, docent_message, created_at
- **personalization_data**: κ°μΈν™” ν•™μµ λ°μ΄ν„°
  - user_id, interaction_history, positive_reactions, journey_completions, lora_status, draft_status

#### SQLite Tables

- **cost_tracking**: API μ‚¬μ©λ‰ λ° λΉ„μ© μ¶”μ 
- **user_preferences**: λ΅μ»¬ μ‚¬μ©μ μ„¤μ •

## π“΅ API μ—”λ“ν¬μΈνΈ

### FastAPI μ„λ²„

```python
# μ‚¬μ©μ κ΄€λ¦¬
POST   /api/v1/users/register      # μ‚¬μ©μ λ“±λ΅
GET    /api/v1/users/{user_id}     # μ‚¬μ©μ μ •λ³΄ μ΅°ν
PUT    /api/v1/users/{user_id}     # μ‚¬μ©μ μ •λ³΄ μμ •

# ACT μΉλ£ μ—¬μ •
POST   /api/v1/therapy/analyze     # κ°μ • λ¶„μ„ (GoEmotions + VAD)
POST   /api/v1/therapy/generate    # μ΄λ―Έμ§€ μƒμ„± (Stable Diffusion)
POST   /api/v1/therapy/guest-book  # λ°©λ…λ΅ μ‘μ„±
POST   /api/v1/therapy/docent      # λ„μ¨νΈ λ©”μ‹μ§€ μƒμ„±

# κ°¤λ¬λ¦¬ κ΄€λ¦¬
GET    /api/v1/gallery/{user_id}   # μ‚¬μ©μ κ°¤λ¬λ¦¬ μ΅°ν
GET    /api/v1/gallery/item/{id}   # κ°λ³„ μ‘ν’ μ΅°ν
DELETE /api/v1/gallery/item/{id}   # μ‘ν’ μ‚­μ 

# κ°μΈν™”
GET    /api/v1/personalization/{user_id}/status  # κ°μΈν™” λ λ²¨ μ΅°ν
POST   /api/v1/personalization/{user_id}/update  # κ°μΈν™” λ°μ΄ν„° μ—…λ°μ΄νΈ
```

### Colab GPU μ„λ²„

```python
# GoEmotions κ°μ • λ¶„μ„
POST   /analyze_emotion
{
    "text": "μ¤λμ€ μ •λ§ νλ“  ν•λ£¨μ€λ‹¤...",
    "threshold": 0.3  # μ„ νƒμ , λ™μ  threshold μ‚¬μ©
}

# Stable Diffusion μ΄λ―Έμ§€ μƒμ„±
POST   /generate
{
    "prompt": "A peaceful garden with soft morning light...",
    "width": 512,
    "height": 512
}

# ν—¬μ¤ μ²΄ν¬
GET    /health
```

## π”¬ μ—°κµ¬μ  κ°€μΉ

### νμ‹ μ„±

- **ACT μ΄λ΅ μ λ””μ§€ν„Έ κµ¬ν„**: κ²€μ¦λ μ‹¬λ¦¬μΉλ£λ¥Ό λ¨λ°”μΌ ν™κ²½μΌλ΅ μ „ν™
- **λ©€ν‹°λ¨λ‹¬ AI ν†µν•©**: ν…μ¤νΈ(GPT) + μ΄λ―Έμ§€(SD) + κ°μ •(GoEmotions)
- **μ μ‘μ  κ°μΈν™”**: μ‚¬μ©μ λ°μ‘ κΈ°λ° μ‹¤μ‹κ°„ ν•™μµ
- **κ²μ„ν™” μΉλ£**: λ―Έμ κ΄€ λ©”νƒ€ν¬λ¥Ό ν†µν• μΉλ£ μ ‘κ·Όμ„± ν–¥μƒ

### μ£Όμ” μ—°κµ¬ μ§λ¬Έ

1. **κ°μ • μ‹κ°ν™”μ μΉλ£μ  ν¨κ³Ό**: VAD κΈ°λ° μ΄λ―Έμ§€ μƒμ„±μ΄ κ°μ • μμ©μ— λ―ΈμΉλ” μν–¥
2. **λ€μ² μ¤νƒ€μΌλ³„ μ°¨λ³„ν™”**: νν”Όν•/μ§λ©΄ν•/κ· ν•ν• μ ‘κ·Όμ ν¨κ³Όμ„± λΉ„κµ
3. **μΈμ§€μ  νƒμµν•© λ©”μ»¤λ‹μ¦**: λ°©λ…λ΅ μ‹μ¤ν…μ μ‹¬λ¦¬μ  κ±°λ¦¬λ‘κΈ° ν¨κ³Ό
4. **κ°μΈν™” μμ¤€μ μν–¥**: Level 1-3 κ°μΈν™”κ°€ μΉλ£ μ„±κ³Όμ— λ―ΈμΉλ” μ°¨μ΄

### μ„μƒμ  κ²€μ¦ κ³„ν

- IRB μΉμΈ ν›„ νμΌλΏ μ—°κµ¬ (n=30)
- PHQ-9, CES-D μ‚¬μ „/μ‚¬ν›„ ν‰κ°€
- 4μ£Όκ°„ μΌμΌ μ‚¬μ© ν”„λ΅ν† μ½
- μ •μ„±μ  μΈν„°λ·° λ° μ‚¬μ©μ„± ν‰κ°€

### ν™•μ¥ κ°€λ¥μ„±

- **λ‹¤μ–‘ν• μ •μ‹ κ±΄κ°• μμ—­**: λ¶μ•μ¥μ• , PTSD, μ΅°μ μ¥μ•  μ μ©
- **μ—°λ Ήλ³„ λ§μ¶¤ν™”**: μ•„λ™/μ²­μ†λ…„/λ…ΈμΈ νΉν™” λ²„μ „
- **μ§‘λ‹¨ μΉλ£ ν”„λ΅κ·Έλ¨**: λ©”νƒ€λ²„μ¤ κ³µλ™ μ „μ‹ κ³µκ°„
- **μλ£ μ‹μ¤ν… ν†µν•©**: μ „μκ±΄κ°•κΈ°λ΅(EHR) μ—°λ™

## π“ μ„±λ¥ λ° μµμ ν™”

### μ‘λ‹µ μ‹κ°„

- κ°μ • λ¶„μ„: ~500ms (GoEmotions)
- μ΄λ―Έμ§€ μƒμ„±: ~30s (Stable Diffusion on Colab T4)
- λ„μ¨νΈ λ©”μ‹μ§€: ~2s (GPT-4o-mini)

### ν™•μ¥μ„±

- FastAPI λΉ„λ™κΈ° μ²λ¦¬λ΅ λ™μ‹ μ‚¬μ©μ 100λ… μ§€μ›
- MongoDB μƒ¤λ”© μ¤€λΉ„
- λ§μ΄ν¬λ΅μ„λΉ„μ¤ μ•„ν‚¤ν…μ² μ „ν™ κ°€λ¥

---
